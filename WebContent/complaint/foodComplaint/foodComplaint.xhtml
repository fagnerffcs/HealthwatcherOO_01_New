<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:h="http://java.sun.com/jsf/html"
   template="/WEB-INF/templates/template.xhtml">
   <ui:define name="content">
   	  <h1>Food Complaint</h1>
   	  
   	  <h:form method="post">
   	  	<h:messages id="messages" styleClass="messages" globalOnly="true" />
   	  	<p>Complaint Description</p>
   	  	<h:inputTextarea id="complaintDescription" value="#{facade.fCid.foodComplaintRecord.foodComplaint.descricao}" rows="4" cols="50" requiredMessage="Complaint description required." >
   	  		<f:validateRequired/>
   	  		<f:validateLength minimum="1" maximum="200" />
   	  	</h:inputTextarea>
   	  	<h:message for="complaintDescription" styleClass="messages" />
   	  	
   	  	<p>Observations</p>
   	  	<h:inputTextarea id="Observations" value="#{facade.fCid.foodComplaintRecord.foodComplaint.observacao}" rows="2" cols="50">
   	  		<f:validateLength maximum="200"/>
   	  	</h:inputTextarea>
   	  	
   	  	<h3>Complainer Data</h3>
		<p>Complainer name:
		   <h:inputText id="complainerName" value="#{facade.fCid.foodComplaintRecord.foodComplaint.solicitante}" requiredMessage="Complainer name required.">
			<f:validateRequired/>
			<f:validateLength minimum="1" maximum="100" />
		   </h:inputText>
		   <h:message for="complainerName" styleClass="messages" />
		</p>
		<div>
			Address: 
			<h:inputText value="#{facade.fCid.foodComplaintRecord.foodComplaint.enderecoSolicitante.street}">
				<f:validateLength maximum="100" />
			</h:inputText>
			
			Complement:
			<h:inputText value="#{facade.fCid.foodComplaintRecord.foodComplaint.enderecoSolicitante.complement}">
				<f:validateLength maximum="100" />
			</h:inputText>
		</div>
		<p>
			Province:
			<h:inputText value="#{facade.fCid.foodComplaintRecord.foodComplaint.enderecoSolicitante.neighbourhood}">
				<f:validateLength maximum="100" />
			</h:inputText>
		</p>
		
		<p>
			City:
			<h:inputText id="complainerCity" value="#{facade.fCid.foodComplaintRecord.foodComplaint.enderecoSolicitante.city}" requiredMessage="Complainer city required." >
				<f:validateRequired/>
				<f:validateLength maximum="100" />
			</h:inputText>
			<h:message for="complainerCity" styleClass="messages" />
			
			State:
			<h:inputText id="complainerState" value="#{facade.fCid.foodComplaintRecord.foodComplaint.enderecoSolicitante.state}" requiredMessage="Complainer state required.">
				<f:validateRequired/>
				<f:validateLength maximum="100" />
			</h:inputText>
			<h:message for="complainerState" styleClass="messages" />
			
			ZIP Code:
			<h:inputText id="complainerZipCode" value="#{facade.fCid.foodComplaintRecord.foodComplaint.enderecoSolicitante.zip}">
				<f:validateLength maximum="20"/>
			</h:inputText>
		</p>
		<p>
			Phone Number:
			<h:inputText value="#{facade.fCid.foodComplaintRecord.foodComplaint.enderecoSolicitante.phone}">
				<f:validateLength maximum="20"/>
			</h:inputText>
		</p>
		<p>
			E-mail:
			<h:inputText value="#{facade.fCid.foodComplaintRecord.foodComplaint.email}" required="true" requiredMessage="Please enter your email address." validatorMessage="Invalid email format.">
				<f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$"/>
			</h:inputText>
		</p>
		
		<h3>Victim Information</h3>
		<p>
			Name:
			<h:inputText id="victimName" value="#{facade.fCid.foodComplaintRecord.foodComplaint.nomeVitima}" requiredMessage="Victim name required.">
				<f:validateRequired/>
				<f:validateLength minimum="1" maximum="100"/>
			</h:inputText>
			<h:message for="complainerState" styleClass="messages" />
		</p>
		<p>
			Address:
		   <h:inputText value="#{facade.fCid.foodComplaintRecord.foodComplaint.enderecoDoente.street}">
		   		<f:validateLength maximum="100"/>
		   </h:inputText>
		   
		   Complement:
		   <h:inputText value="#{facade.fCid.foodComplaintRecord.foodComplaint.enderecoDoente.complement}">
		   		<f:validateLength maximum="100"/>
		   	</h:inputText>
		</p>
		<p>
			Province:
			<h:inputText value="#{facade.fCid.foodComplaintRecord.foodComplaint.enderecoDoente.neighbourhood}">
				<f:validateLength maximum="100"/>
			</h:inputText>
		</p>
		<p>
			Closest City:
			<h:inputText id="victimCity" value="#{facade.fCid.foodComplaintRecord.foodComplaint.enderecoDoente.city}" requiredMessage="Victim city required.">
				<f:validateRequired/>
				<f:validateLength minimum="1" maximum="100"/>
			</h:inputText>
			<h:message for="victimCity" styleClass="messages" />
			
			State:
			<h:inputText id="victimState" value="#{facade.fCid.foodComplaintRecord.foodComplaint.enderecoDoente.state}" requiredMessage="Victim state required.">
				<f:validateRequired/>
				<f:validateLength minimum="1" maximum="100"/>
			</h:inputText>
			<h:message for="victimState" styleClass="messages" />
			
			ZIP Code:
			<h:inputText value="#{facade.fCid.foodComplaintRecord.foodComplaint.enderecoDoente.zip}">
				<f:validateLength maximum="20" />
			</h:inputText>
   	  	</p>
   	  	<p>
   	  		Telephone:
   	  		<h:inputText value="#{facade.fCid.foodComplaintRecord.foodComplaint.enderecoDoente.phone}">
   	  			<f:validateLength maximum="20" />
   	  		</h:inputText>
   	  	</p>
   	  	
   	  	<h3>Event Information</h3>
   	  	<p>
   	  		Amount of people that ate the meal:
   	  		<h:inputText id="qtdeComensais" value="#{facade.fCid.foodComplaintRecord.foodComplaint.qtdeComensais}">
   	  			<f:validateRequired/>
   	  		</h:inputText>
   	  		
   	  		Amount of sick people:
   	  		<h:inputText id="qtdeDoentes" value="#{facade.fCid.foodComplaintRecord.foodComplaint.qtdeDoentes}">
   	  			<f:validateRequired/>
   	  		</h:inputText>
   	  	</p>
   	  	<p>
   	  		Amount of people checked into a hospital:
   	  		<h:inputText id="qtdeInternacoes" value="#{facade.fCid.foodComplaintRecord.foodComplaint.qtdeInternacoes}">
   	  			<f:validateRequired/>
   	  		</h:inputText>
   	  		
   	  		Amount of death:
   	  		<h:inputText id="qtdeObito" value="#{facade.fCid.foodComplaintRecord.foodComplaint.qtdeObitos}">
   	  			<f:validateRequired/>
   	  		</h:inputText>
   	  	</p>
   	  	<p>
   	  		Place of medical care:
   	  		<h:inputText id="localAtendimento" value="#{facade.fCid.foodComplaintRecord.foodComplaint.localAtendimento}" requiredMessage="Place required.">
   	  			<f:validateRequired/>
   	  			<f:validateLength minimum="1" maximum="100" />
   	  		</h:inputText>
   	  		<h:message for="localAtendimento" styleClass="messages" />
   	  		
   	  		Suspicous meal:
   	  		<h:inputText id="refeicaoSuspeita" value="#{facade.fCid.foodComplaintRecord.foodComplaint.refeicaoSuspeita}" requiredMessage="Suspecious meal required.">
	   	  		<f:validateRequired/>
	   	  		<f:validateLength minimum="1" maximum="100" />
	   	  	</h:inputText>
	   	  	<h:message for="refeicaoSuspeita" styleClass="messages" />   	  		
   	  	</p>
   	  	
		<h:commandButton style="margin: 10px;" value="Insert" action="#{facade.fCid.foodComplaintRecord.salvar()}" />
		<h:commandButton type="reset" value="Clear" />
   	  </h:form>
   	  
   	  <center>
	   	  <h:outputLink value="#{facesContext.externalContext.request.contextPath}/home.jsf">
	   	  	Main Menu
	   	  </h:outputLink>
	  </center>
   </ui:define>
</ui:composition>
